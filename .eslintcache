[{"D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\index.js":"1","D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\App.js":"2","D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\reducer.js":"3","D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\reportWebVitals.js":"4","D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\Subtotal.js":"5","D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\axios.js":"6","D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\Home.js":"7","D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\Payment.js":"8","D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\Product.js":"9","D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\StateProvider.js":"10","D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\Header.js":"11","D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\Orders.js":"12"},{"size":689,"mtime":1609748790057,"results":"13","hashOfConfig":"14"},{"size":1892,"mtime":1609748828971,"results":"15","hashOfConfig":"14"},{"size":1111,"mtime":1609526509193,"results":"16","hashOfConfig":"14"},{"size":362,"mtime":1608475983567,"results":"17","hashOfConfig":"14"},{"size":1105,"mtime":1609421877881,"results":"18","hashOfConfig":"14"},{"size":314,"mtime":1609573444116,"results":"19","hashOfConfig":"14"},{"size":2571,"mtime":1609405230688,"results":"20","hashOfConfig":"14"},{"size":4879,"mtime":1609526789008,"results":"21","hashOfConfig":"14"},{"size":1103,"mtime":1609744498644,"results":"22","hashOfConfig":"14"},{"size":483,"mtime":1609261741453,"results":"23","hashOfConfig":"14"},{"size":2036,"mtime":1609570640512,"results":"24","hashOfConfig":"14"},{"size":961,"mtime":1609569279896,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"18eb190",{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"36"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\index.js",[],["54","55"],"D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\App.js",["56","57"],"import React, { useEffect } from \"react\";\nimport Header from \"./Header.js\";\nimport Home from \"./Home.js\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Checkout from \"./Checkout.js\";\nimport Login from \"./Login.js\";\nimport { auth } from \"./firebase.js\";\nimport { useStateValue } from \"./StateProvider.js\";\nimport Payment from \"./Payment.js\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport Orders from \"./Orders.js\";\n\nconst promise = loadStripe(\n  \"pk_test_51I4SoNBvt0O9VvimAUyYzXOVs68ymzNkxKMrVNP67C9ljTtFi2MgzffwIjFSpteamU1pU2AwjQpzxGIl3tx61vk600VnTgHNgu\"\n);\n\nfunction App() {\n  const [{}, dispatch] = useStateValue();\n\n  useEffect(() => {\n    //Will only run once when the app component loads...\n\n    auth.onAuthStateChanged((authUser) => {\n      console.log(\"THE USER IS >>>\", authUser);\n\n      if (authUser) {\n        //The user just logged in / the user was logged in\n\n        dispatch({\n          type: \"SET_USER\",\n          user: authUser,\n        });\n      } else {\n        // the user is logged in\n        dispatch({\n          type: \"SET_USER\",\n          user: null,\n        });\n      }\n    });\n  }, []);\n\n  return (\n    //BEM\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/orders\">\n            <Header />\n            <Orders />\n          </Route>\n\n          <Route path=\"/checkout\">\n            <Header />\n            <Checkout />\n          </Route>\n          <Route path=\"/payment\">\n            <Header />\n            <Elements stripe={promise}>\n              <Payment />\n            </Elements>\n          </Route>\n          <Route path=\"/\">\n            <Header />\n            <Home />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\reducer.js",["58"],"D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\reportWebVitals.js",[],["59","60"],"D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\Subtotal.js",["61"],"D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\axios.js",[],"D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\Home.js",[],"D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\Payment.js",["62"],"import React, { useEffect, useState } from \"react\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport \"./Payment.css\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { getBasketTotal } from \"./reducer\";\r\nimport axios from \"./axios\";\r\nimport { db } from \"./firebase\";\r\nfunction Payment() {\r\n  const [{ basket, user }, dispatch] = useStateValue();\r\n  const history = useHistory();\r\n\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n\r\n  const [succeeded, setSucceeded] = useState(false);\r\n  const [processing, setProcessing] = useState(\"\");\r\n\r\n  const [error, setError] = useState(null);\r\n  const [disabled, setDisabled] = useState(true);\r\n  const [clientSecret, setClientSecret] = useState(true);\r\n\r\n  useEffect(() => {\r\n    //generate the special stripe which allows us to charge a cutomer\r\n\r\n    const getClientSecret = async () => {\r\n      const response = await axios({\r\n        method: \"post\",\r\n\r\n        //Stripes expects the total in a currencies submits\r\n        url: `/payments/create?total=${getBasketTotal(basket) * 100}`,\r\n      });\r\n      setClientSecret(response.data.clientSecret);\r\n    };\r\n\r\n    getClientSecret();\r\n  }, [basket]);\r\n\r\n  console.log(\"THE SECRET IS>>>\", clientSecret);\r\n\r\n  const handleSubmit = async (event) => {\r\n    //do all the stripe stuff\r\n    event.preventDefault();\r\n    setProcessing(true);\r\n\r\n    const payload = await stripe\r\n      .confirmCardPayment(clientSecret, {\r\n        payment_method: {\r\n          card: elements.getElement(CardElement),\r\n        },\r\n      })\r\n      .then(({ paymentIntent }) => {\r\n        //Payment Intent=payment confirmation\r\n\r\n        db.collection(\"users\")\r\n          .doc(user?.uid)\r\n          .collection(\"orders\")\r\n          .doc(paymentIntent.id)\r\n          .set({\r\n            basket: basket,\r\n            amount: paymentIntent.amount,\r\n            created: paymentIntent.created,\r\n          });\r\n\r\n        setSucceeded(true);\r\n        setError(null);\r\n        setProcessing(false);\r\n\r\n        dispatch({\r\n          type: \"EMPTY_BASKET\",\r\n        });\r\n\r\n        history.replace(\"/orders\");\r\n      });\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    //Listen for changes in the CardElement\r\n    //and display any errors as the customer types their card details\r\n    setDisabled(event.empty);\r\n    setError(event.error ? event.error.message : \"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"payment\">\r\n      <div className=\"payment__container\">\r\n        <h1>\r\n          Checkout (\r\n          <Link to=\"/checkout\">\r\n            {basket?.length}\r\n            items\r\n          </Link>\r\n          )\r\n        </h1>\r\n\r\n        {/**PAyment section: delivery address */}\r\n        <div className=\"payment__section\">\r\n          <div className=\"payment__title\">\r\n            <h3>Delivery Address</h3>\r\n          </div>\r\n          <div className=\"payment__address\">\r\n            <p>{user?.email}</p>\r\n            <p>123 lane</p>\r\n            <p>LA</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/**PAyment section: Review Items */}\r\n        <div className=\"payment__section\">\r\n          <div className=\"payment__title\">\r\n            <h3>Review items and delivery</h3>\r\n          </div>\r\n          <div className=\"payment__items\">\r\n            {basket.map((item) => (\r\n              <CheckoutProduct\r\n                id={item.id}\r\n                title={item.title}\r\n                price={item.price}\r\n                rating={item.rating}\r\n                image={item.image}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/**PAyment section: Payment methods */}\r\n        <div className=\"payment__section\">\r\n          <div className=\"payment__title\">\r\n            <h3>Payment Method</h3>\r\n          </div>\r\n          <div className=\"payment__details\">\r\n            {/**Stripe */}\r\n\r\n            <form onSubmit={handleSubmit}>\r\n              <CardElement onChange={handleChange} />\r\n              <div className=\"payment__priceContainer\">\r\n                <CurrencyFormat\r\n                  renderText={(value) => <h3>Order Total: {value}</h3>}\r\n                  decimalScale={2}\r\n                  value={getBasketTotal(basket)}\r\n                  displayType={\"text\"}\r\n                  thousandSeparator={true}\r\n                  prefix={\"$\"}\r\n                />\r\n                <button disabled={processing || disabled || succeeded}>\r\n                  <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\r\n                </button>\r\n              </div>\r\n\r\n              {/**Error*/}\r\n              {error && <div>{error}</div>}\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Payment;\r\n","D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\Product.js",[],"D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\StateProvider.js",[],"D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\Header.js",["63","64"],"D:\\Rashid\\YouTube Tutorials\\React js\\amazon-clone\\src\\Orders.js",["65","66"],{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","severity":1,"message":"72","line":19,"column":10,"nodeType":"73","messageId":"74","endLine":19,"endColumn":12},{"ruleId":"75","severity":1,"message":"76","line":42,"column":6,"nodeType":"77","endLine":42,"endColumn":8,"suggestions":"78"},{"ruleId":"79","severity":1,"message":"80","line":35,"column":11,"nodeType":"81","messageId":"82","endLine":35,"endColumn":72},{"ruleId":"67","replacedBy":"83"},{"ruleId":"69","replacedBy":"84"},{"ruleId":"85","severity":1,"message":"86","line":10,"column":22,"nodeType":"87","messageId":"88","endLine":10,"endColumn":30},{"ruleId":"85","severity":1,"message":"89","line":48,"column":11,"nodeType":"87","messageId":"88","endLine":48,"endColumn":18},{"ruleId":"85","severity":1,"message":"86","line":10,"column":28,"nodeType":"87","messageId":"88","endLine":10,"endColumn":36},{"ruleId":"90","severity":1,"message":"91","line":21,"column":9,"nodeType":"92","endLine":24,"endColumn":11},{"ruleId":"85","severity":1,"message":"93","line":8,"column":12,"nodeType":"87","messageId":"88","endLine":8,"endColumn":18},{"ruleId":"85","severity":1,"message":"86","line":8,"column":28,"nodeType":"87","messageId":"88","endLine":8,"endColumn":36},"no-native-reassign",["94"],"no-negated-in-lhs",["95"],"no-empty-pattern","Unexpected empty object pattern.","ObjectPattern","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["96"],"no-template-curly-in-string","Unexpected template string expression.","Literal","unexpectedTemplateExpression",["94"],["95"],"no-unused-vars","'dispatch' is assigned a value but never used.","Identifier","unusedVar","'payload' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'basket' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"97","fix":"98"},"Update the dependencies array to be: [dispatch]",{"range":"99","text":"100"},[1204,1206],"[dispatch]"]